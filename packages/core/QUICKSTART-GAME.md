# Cataclysm-DDA TypeScript - å¿«é€Ÿå¼€å§‹

## ğŸ® è¿è¡Œç¤ºä¾‹æ¸¸æˆ

### æ–¹å¼ 1ï¼šä½¿ç”¨ pnpm è„šæœ¬ï¼ˆæ¨èï¼‰

```bash
cd packages/core
pnpm example
```

### æ–¹å¼ 2ï¼šç›´æ¥ä½¿ç”¨ tsx

```bash
cd packages/core
pnpm tsx src/simple-game-example.ts
```

## ğŸ¯ æ¸¸æˆæ“ä½œ

### ç§»åŠ¨æ§åˆ¶

**æ–¹å‘é”®ï¼ˆæ¨èï¼‰:**
```
  â†‘ - åŒ—
  â† â†’ - è¥¿ ä¸œ
  â†“ - å—
```

**Vim é£æ ¼é”®:**
```
  y   k   u    è¥¿åŒ—  åŒ—  ä¸œåŒ—
  \  |  /
    h @ l      è¥¿   @   ä¸œ
  /  |  \
  b   j   n    è¥¿å—  å—  ä¸œå—
```

**æ•°å­—é”®ç›˜:**
```
  7   8   9
  4   5   6
  1   2   3
```

### å…¶ä»–æ“ä½œ

| æŒ‰é”® | åŠŸèƒ½ |
|------|------|
| `.` æˆ– `ç©ºæ ¼` | ç­‰å¾…ä¸€å›åˆ |
| `<` | ä¸Šæ¥¼ |
| `>` | ä¸‹æ¥¼ |
| `d` | è°ƒè¯•ä¿¡æ¯ |
| `q` æˆ– `Ctrl-C` | é€€å‡ºæ¸¸æˆ |

## ğŸ“Š ç•Œé¢è¯´æ˜

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘         Cataclysm-DDA TypeScript - CLI ç‰ˆ                 â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ çŠ¶æ€                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å›åˆ:     0 â”‚ ä½ç½®: (  0,   0,  0) â”‚ å¥åº·çŠ¶æ€: å¥åº·      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å±æ€§: STR  8 â”‚ DEX  8 â”‚ INT  8 â”‚ PER  8 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å¤´éƒ¨: 60/60 [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] â”‚ èº¯å¹²: 80/80 [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] â”‚ ... â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ #############...........#             â”‚
â”‚ #...........#...........#             â”‚
â”‚ #...........#...........#             â”‚
â”‚ #...........####+####...#             â”‚  â† åœ°å›¾è§†å›¾
â”‚ #...........#...........#             â”‚     (# = å¢™, . = åœ°æ¿)
â”‚ #...........#...........#             â”‚     (@ = ç©å®¶)
â”‚ #############...........#             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
æ¶ˆæ¯:
> æ¬¢è¿æ¥åˆ° Cataclysm-DDA TypeScript ç‰ˆæœ¬ï¼
> ä½ åœ¨ä¸€ä¸ªå°æˆ¿é—´é‡Œã€‚
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

æ“ä½œ: ç§»åŠ¨ [æ–¹å‘é”®] æˆ– [8/4/6/2] | ç­‰å¾… [.] | é€€å‡º [q]
```

## ğŸ› ï¸ å¼€å‘

### ç¼–è¯‘é¡¹ç›®

```bash
pnpm build
```

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pnpm test

# è¿è¡Œç‰¹å®šæµ‹è¯•
pnpm test gameloop

# ç›‘è§†æ¨¡å¼
pnpm test:watch
```

### ç±»å‹æ£€æŸ¥

```bash
pnpm tsc --noEmit
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
packages/core/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ coordinates/    # åæ ‡ç³»ç»Ÿ
â”‚   â”œâ”€â”€ terrain/        # åœ°å½¢ç³»ç»Ÿ
â”‚   â”œâ”€â”€ furniture/      # å®¶å…·ç³»ç»Ÿ
â”‚   â”œâ”€â”€ creature/       # ç”Ÿç‰©ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ Avatar.ts   # ç©å®¶è§’è‰²
â”‚   â”‚   â””â”€â”€ NPC.ts      # NPC
â”‚   â”œâ”€â”€ map/            # åœ°å›¾ç³»ç»Ÿ
â”‚   â”œâ”€â”€ mapgen/         # åœ°å›¾ç”Ÿæˆ
â”‚   â”œâ”€â”€ game/           # æ¸¸æˆå¾ªç¯
â”‚   â”‚   â”œâ”€â”€ GameState.ts
â”‚   â”‚   â””â”€â”€ GameLoop.ts
â”‚   â””â”€â”€ cli/            # CLI ç•Œé¢
â”‚       â”œâ”€â”€ SimpleRenderer.ts
â”‚       â””â”€â”€ SimpleInputHandler.ts
â””â”€â”€ package.json
```

## ğŸ”§ æ•…éšœæ’é™¤

### é”™è¯¯ï¼šCannot find module

å¦‚æœä½ çœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„é”™è¯¯ï¼š
```
Error [ERR_MODULE_NOT_FOUND]: Cannot find module './map/GameMap'
```

**è§£å†³æ–¹æ¡ˆ**: ä½¿ç”¨ `tsx` ç›´æ¥è¿è¡Œ TypeScript æ–‡ä»¶ï¼Œè€Œä¸æ˜¯ç¼–è¯‘åçš„ JavaScriptï¼š

```bash
# âŒ é”™è¯¯çš„æ–¹å¼
node dist/simple-game-example.js

# âœ… æ­£ç¡®çš„æ–¹å¼
pnpm tsx src/simple-game-example.ts
# æˆ–
pnpm example
```

### åŸå› è¯´æ˜

- é¡¹ç›®ä½¿ç”¨ ES æ¨¡å— (`"type": "module"`)
- Node.js ES æ¨¡å—è¦æ±‚å¯¼å…¥è·¯å¾„å¿…é¡»åŒ…å« `.js` æ‰©å±•å
- TypeScript ä¸ä¼šè‡ªåŠ¨æ·»åŠ è¿™äº›æ‰©å±•å
- ä½¿ç”¨ `tsx` å¯ä»¥ç›´æ¥è¿è¡Œ TypeScriptï¼Œé¿å…è¿™ä¸ªé—®é¢˜

## ğŸ“š æ›´å¤šä¿¡æ¯

- [æ¸¸æˆå¾ªç¯æ–‡æ¡£](src/game/GAME-LOOP-SUMMARY.md)
- [è§’è‰²ç³»ç»Ÿæ–‡æ¡£](src/creature/CREATURE-SYSTEM-SUMMARY.md)
- [NPC ç³»ç»Ÿæ–‡æ¡£](src/creature/NPC-SYSTEM-SUMMARY.md)

## ğŸ‰ å¼€å§‹æ¸¸æˆï¼

```bash
cd packages/core
pnpm example
```

ç¥æ¸¸æˆæ„‰å¿«ï¼ ğŸ®
